---
layout: post
title: 'Apollo 系列 ———— (二) Apollo 客户端'
tags: [apollo]
---

### JAVA 应用程序配置

#### 引入 maven 依赖

```xml
<dependency>
    <groupId>com.ctrip.framework.apollo</groupId>
    <artifactId>apollo-client</artifactId>
    <version>${apollo.version}</version>
 </dependency>
```

#### 配置 meta 地址

在 `resourcess/META-INF` 目录下创建 `app.properties` 文件

```properties
# 应用的id
app.id=SampleApp
# configService 的地址
apollo.meta=http://localhost:9080,http://localhost:9081
```

#### 获取配置

```java
package com.apollo.demo;

import com.ctrip.framework.apollo.Config;
import com.ctrip.framework.apollo.ConfigService;
import lombok.extern.slf4j.Slf4j;

@Slf4j
public class Boot {
    public static void main(String[] args) throws InterruptedException {
        Config appConfig = ConfigService.getAppConfig();
        String property  = appConfig.getProperty("timeout", "");
        log.info("读取到配置:{}", property);
    }
}
```

![java 运行结果]({{ "/public/images/apollo/2019-03-13-apollo-1.png"}} "java 运行结果")

[参考代码](https://github.com/g5niusx/apollo-demo/blob/master/apollo-java/src/main/java/com/apollo/demo/java/JavaDemo.java)
